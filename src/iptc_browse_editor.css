body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;margin:16px;max-width:1400px}
  .wrap{max-width:1400px;margin:0 auto}
  #layout{display:grid;grid-template-columns:460px 1fr 460px;gap:14px}
  #advPane{border:1px solid #ddd;border-radius:18px;padding:12px;background:#fff}
  #leftPane,#rightPane{border:1px solid #ddd;border-radius:18px;padding:12px;background:#fff}
  h2{margin:0 0 10px}
  h3{margin:10px 0 8px}
  label{display:block;font-size:12px;color:#333;margin:8px 0 4px}
  input[type="text"],input[type="number"],input[type="datetime-local"],textarea,select{width:100%;padding:8px;border:1px solid #ccc;border-radius:10px}
  textarea{min-height:70px}
  button{padding:10px 14px;border:0;border-radius:12px;background:#111;color:#fff;cursor:pointer}
  button.secondary{background:#555}
  button:disabled{opacity:.5;cursor:not-allowed}
  .hint{font-size:12px;color:#555}
  .ok{color:#0a0}
  .err{color:#b00}
  .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .grid2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .grid3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
  details{margin-top:10px}
  summary{cursor:pointer}

  /* Tree */
  #dirTree{margin-top:8px;max-height:280px;overflow:auto;border:1px solid #ddd;border-radius:12px;padding:8px;background:#fafafa}
  .tree ul{list-style:none;margin:0;padding-left:0}
  .tree li{margin:2px 0;padding-left:0}
  .tree .prefix{font-family:ui-monospace,Consolas,monospace;white-space:pre}
  .tree .folder{font-family:ui-monospace,Consolas,monospace}
  .tree .node{display:flex;gap:6px;align-items:center;cursor:pointer;padding:2px 4px;border-radius:8px}
  .tree .node:hover{background:rgba(0,0,0,0.06)}
  .tree .twisty{width:16px;text-align:center;user-select:none;cursor:pointer;font-size:16px;line-height:16px}
  .tree .folder{font-weight:600}
  .tree .active{background:rgba(0,0,0,0.10)}

  /* Thumbs */
  #thumbGrid{margin-top:10px;display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}
  .thumb{border:1px solid #ddd;border-radius:12px;overflow:hidden;background:#fafafa;cursor:pointer;position:relative}
  .thumb:hover{outline:2px solid rgba(0,0,0,0.15)}
  .thumb.active{outline:3px solid rgba(0,0,0,0.30)}
  .thumb img,.thumb video{width:100%;height:94px;object-fit:cover;display:block}
  .thumb .cap{padding:6px 8px;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .thumb .badgeType{position:absolute;top:6px;left:6px;background:rgba(0,0,0,0.65);color:#fff;font-size:11px;padding:2px 6px;border-radius:10px}
  .thumb .badges{position:absolute;top:6px;right:6px;display:flex;gap:4px}
  .thumb .b{background:rgba(255,255,255,0.90);border:1px solid rgba(0,0,0,0.25);font-size:12px;padding:1px 6px;border-radius:10px}
  /* Preview */
  #mediaPreview img,#mediaPreview video{max-width:100%;max-height:520px;border-radius:12px}
  #map{height:360px;border-radius:14px;border:1px solid #ddd}
  /* Marker icons */
  .loc-icon{display:flex;align-items:center;justify-content:center;text-shadow:0 1px 2px rgba(0,0,0,.25)}
  .eye-icon{display:flex;align-items:center;justify-content:center;text-shadow:0 1px 2px rgba(0,0,0,.25)}
  .eye-inner,.loc-inner{display:inline-block;transform-origin:50% 50%}
  table{width:100%;border-collapse:collapse}
  td,th{border-bottom:1px solid #eee;padding:6px;font-size:13px;vertical-align:top}
  th{font-size:12px;color:#555;text-align:left}
  .tag{font-family:ui-monospace,Consolas,monospace;font-size:12px}

/* tighter tree */
.tree ul{margin:0;padding-left:0}
.tree li{margin:0;padding:0}
.tree .node{padding:0 2px;line-height:1.05}
.tree .prefix,.tree .folder{line-height:1.05}
